<!DOCTYPE html>
<html>

<head>
    <meta charset="utf8">
    <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js'></script>
    <script>
        function ini() {
            var content = 'initial';
            var host = 'ws://localhost:9111/server.php';
            socket = new WebSocket(host);
            socket.onopen = function () {
                //alert(socket.readyState);
                //alert('socket has been opened');
                socket.send(content);
            }
            socket.onmessage = function (msg) {
                alert(msg.data);
            }

        }

        function sendChat() {
            var content = $('textarea').val();
            //alert(content);
            socket.send(content);
        }
    </script>
</head>

<body onload='ini()'>
    <textarea></textarea>
    <input type='button' value='send' onclick='sendChat($(this))'>
</body>

</html>